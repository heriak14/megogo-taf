plugins {
    id 'java'
    id "io.qameta.allure" version "2.12.0"
}

group = 'net.megogo'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.17.2'
    implementation group: 'io.rest-assured', name: 'rest-assured', version: '5.5.0'
    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'
    implementation group: 'io.qameta.allure', name: 'allure-testng', version: '2.29.0'
    implementation group: 'io.qameta.allure', name: 'allure-rest-assured', version: '2.29.0'
    testImplementation group: 'org.testng', name: 'testng', version: '7.10.2'
    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.34'
    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.34'
    runtimeOnly group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.22'
}

test {
    useTestNG() {
        useDefaultListeners = true
        suites 'src/test/resources/regression-suite.xml'
    }
    options {
        systemProperties(System.getProperties())
    }
    testLogging.showStandardStreams = true
}